# ER図2
## 全体
- 配送先テーブルを用意する
- 入荷テーブルを作り商品とのリレーションをとり入荷を管理する

## 管理者
- 他のテーブルとのリレーションの必要はない
- PKがない

## エンドユーザ
- 名の漢字用カラムがない
- 配送先は別テーブルで管理する
- テーブル名とPKを一致させる

## カートアイテム
- PKがない
- 小計金額カラムは必要ない

## 商品
- 在庫数カラムは必要ない
- deleted_atカラムを追加する
- ディスク枚数カラムは必要ない
- 発売日カラムを追加する
- 曲名とダイレクトにリレーションをとる

 ## 購入
 - 姓、名カラムがない
 - 郵便番号カラムがない
 - 注文ステータスカラムがない
 - テーブル名を「注文」にする、PKもそれに合わせる
 - 購入日カラムは必要ない

 ## 購入詳細
 - 商品テーブルとダイレクトにリレーションをつける、FKが必要
 - テーブル名を「注文詳細」にする、PKもそれに合わせる
 - 購入テーブルとのリレーションが「1:多」ではなく、「多:1」にする
 - 上に伴いFKを設定する
 - 小計金額カラムは必要ない
 - 購入後価格カラムをつくる

 ## ディスク
 - トラックNoではなく、ディスクNoもしくはティスク名というようなカラムにする

 ## 曲名
 - トラックNoカラムを追加する

# 注意
* マークダウン形式で記入してください。
* 全体を通しての指摘事項の場合、テーブル名の部分を「全体」「共通」などとしてください。



# 研修担当レビュー
- 再提出の際、以下は残しておいてください。

## 全体
- カラム名から、入り得る値が推測しにくいカラムはないでしょうか。
  - 該当テーブルで指摘を加えましょう。
- 入荷を管理するテーブルがありません。

## エンドユーザ
- テーブル名とPK名は一致していますでしょうか。

## 商品
- 商品-ディスク-曲間のリレーションを見直してみましょう。
- 発売日カラムが必要です。

## ディスク
- "トラックNo"の用途は適切でしょうか。
  - 言葉自体の意味を調べていただくと解ると思います。
  
## 曲名
- 曲順を変更したい場合、どのように行ないますでしょうか。

## 購入
- テーブル名は管理者視点である必要があります。
  - 「購入」はどちらから見た命名になりますでしょうか。
- 購入日は登録日(created_at)で参照できるため不要になります。
> 性/カナ、名/カナカラムがない
- x 性→ o 姓。また、このテーブルにカナ姓名は必要ないはずです。
> 住所カラムがない
- "送付先住所"カラムがあるので、住所**しかない**と思います。
  - 住所以外に必要な情報があるはずです。

## 購入詳細
- 同じく、テーブル名は管理者視点である必要があります。
- 現在の"購入"とのリレーションは適切でしょうか。
- 購入後の価格を保存するカラムが必要です。
