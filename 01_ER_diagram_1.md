# ER図1
## 全体
- 作成日時、更新日時のカラムがない
- 管理者と他テーブルのリレーションは必要ない
- 現住所以外の配送先を登録できない
- 受注明細テーブルが必要
- 入荷テーブルを作り商品とのリレーションをとり入荷を管理する

## エンドユーザ
- 論理削除を考慮していない

## 商品
- 販売ステータスが判断できない
- ジャンルを変更しづらい
- 入荷数 - 売上数で算出できる値なので、在庫数カラムは必要ない
- アーティスト、レーベル、ディスク、曲名は別のテーブルで管理する
- deleted_atカラムを追加する

## 購入履歴
- 必要ない

## カート
- アーティスト名、ジャケット画像、アルバム名は商品テーブルから持ってくる
- 合計金額カラムは必要ない
- 主キーの名前とテーブル名が異なっている
- エンドユーザートとのリレーションをとる必要がある
- テーブル名をカート内商品とする

## 決済
- テーブル名が実際の機能と違う
- 購入日カラムは必要ない
- 支払い金額カラムがない
- 送料カラムがない
- 郵便番号、宛名、注文ステータスがない
- カートとのリレーションは必要ない


# 注意
* マークダウン形式で記入してください。
* 全体を通しての指摘事項の場合、テーブル名の部分を「全体」「共通」などとしてください。



# レビューは消さないでください。
# レビュー1回目
## 全体
- 作成日時、更新日時のカラムがない
  > 正解です。後もう一つデフォルトで作成されるカラムが足りないです。
- 管理人がログインするのは一つのidで良い
  > 一つのレコードでいいと言う意味ですか？
- 決済をしないとカートにある商品がわからない
  > もう少し具体的にお願いします。
  
- 管理者とエンドユーザ、管理者と商品のリレーションは必要ですか？

## 商品
- 商品名がない
  > 商品名 = シングル/アルバム名です
- 税率が変わった時にめんどくさい
  > 税率カラムを追加するとしたら、商品テーブルではないです。決済テーブルに保存します。
    今回必須ではないのでなくても大丈夫です。
    
- アーティストはどのように管理しますか？
- レーベルはどのように管理しますか？
- 複数の曲を登録したい場合はどうしますか？
- 複数のディスクを登録したい場合はどうしますか？
- 今回、商品の削除には論理削除を使用します。
- 入荷数 - 売上数で計算できるため、在庫数カラムは必要ないです。

## 購入履歴
- 合計金額がわからない
  > 合計金額は決済テーブルで管理します。
## カート
- ステータスがどの段階かわからない
  > ステータスとはなんのステータスですか？
- テーブル名が実際の機能と異なっています。考えてみましょう。
- 合計金額は算出できる値なので必要ないです。
- PKの命名がテーブル名とあっていないです。
- どのユーザのカートアイテムかどのように判断しますか？

## 決済
- テーブル名と機能が異なっています。
- 購入日カラムは必要ですか？
- 送料はどこで管理しますか？
- 合計金額はどこで管理しますか？
- カートとのリレーションは必要ありますか？
- 宛名と郵便番号はどこで管理しますか？



# レビュー2回目

## 全体
- 決済をしないとカートにある商品がわからない（カート内商品と、注文詳細でユーザー側管理側で分けたい）
  > 受注明細が必要ということですか？

- 入荷はどこで管理しますか？

## 商品
- 曲名カラムは必要ありますか？

- 論理削除が考慮されていません。

## カート
- テーブル名が実際の役割と異なっています。何が保存されるテーブルか考えてみましょう。


# レビュー3回目
## 商品
- 複数枚ディスクを考慮していません。

## カート
- テーブル名が実際の役割と異なっています。(= カート内商品のはずです。)

## 購入履歴
- 購入履歴テーブルは今回必要ありません。

## 決済
- 「い」が「i」になっています。
